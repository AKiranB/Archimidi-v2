{"version":3,"sources":["api/service.js","components/AddSong.js","components/SongCard.js","components/SongsList.jsx","components/NavBar.js","utils/paths.js","components/SongDetails.js","components/Signup.js","components/Login.js","components/MySongs.js","components/EditSong.js","App.js","index.js"],"names":["service","axios","create","baseURL","errorHandler","err","data","deleteSong","songId","delete","then","res","catch","handleUpload","file","post","saveNewSong","newSong","findAllSongs","get","getSong","signup","username","password","response","login","console","log","logout","AddSong","props","history","useHistory","loggedInUser","user","_id","useState","title","setTitle","author","setAuthor","songUrl","setSongUrl","createdBy","tag","setTag","tags","setTags","tagToRemove","setTagToRemove","uploadStage","setUploadStage","message","setMessage","saveButton","className","type","loadIcon","waitingIcon","useEffect","filter","tagChecked","handleDeleteTag","e","preventDefault","target","tagButton","value","length","onSubmit","push","name","onChange","placeholder","uploadData","FormData","append","files","secure_url","map","el","toLowerCase","t","i","arr","indexOf","SongCard","to","href","download","SongsList","allSongs","setAllSongs","search","setSearch","searchFields","setSearchFields","words","split","searchCheck","word","substring","filteredSongs","song","checked","NavBar","path","useLocation","pathname","searchBar","onClick","setUser","SongDetails","setSong","body","midiPlayer","setMidiPlayer","currentUserId","match","params","id","retrieveSong","a","script","document","createElement","src","async","appendChild","removeChild","visualizer","Signup","setUsername","setPassword","htmlFor","Login","MySongs","EditSong","requestBody","put","App","addUser","currentPage","exact","render","component","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.95ed2625.chunk.js","sourcesContent":["import axios from 'axios';\n\n\nconst service = axios.create({\n  baseURL: '/api'\n});\n\nconst errorHandler = err => {\n  throw err;\n};\n\nconst findAllSongs = () => {\n  return service\n    .get('/songs')\n    .then(res => res.data)\n    .catch(errorHandler);\n}\n\nconst getSong = (songId) => {\n  return service\n    .get(`/songs/${songId}`)\n    .then(res => res.data)\n    .catch(errorHandler)\n}\n\nconst handleUpload = file => {\n  return service\n    .post('/upload', file)\n    .then(res => res.data)\n    .catch(errorHandler);\n};\n\nconst saveNewSong = newSong => {\n  return service\n    .post('/songs/create', newSong)\n    .then(res => res.data)\n    .catch(errorHandler);\n};\n\nconst deleteSong = (songId) => {\n  return service\n    .delete(`/${songId}`)\n    .then(res => res.data)\n    .catch(errorHandler)\n}\n//**********<-----------Authentication Starts here---------->**********/\n\nconst signup = (username, password) => {\n  return service.post('/auth/signup', { username, password })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data\n    })\n}\n\nconst login = (username, password) => {\n\n  return service.post('/auth/login', { username, password })\n    .then(response => {\n      console.log('service.js login response:', response)\n      return response.data\n    })\n    .catch(err => {\n      return err.response.data\n    })\n}\n\nconst logout = () => {\n  return service.delete('/auth/logout')\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\n\nconst data = {\n  service,\n  deleteSong,\n  handleUpload,\n  saveNewSong,\n  findAllSongs,\n  getSong,\n  signup,\n  login,\n  logout\n};\n\n\n\nexport default data;\n","import React from 'react';\nimport { useState, useEffect } from \"react\";\n// import the service file since we need it to send (and get) the data to(from) the server\nimport service from '../api/service';\nimport { useHistory } from 'react-router';\n\nfunction AddSong(props) {\n  let history = useHistory()\n\n  const loggedInUser = props.user._id\n\n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [songUrl, setSongUrl] = useState('');\n  const [createdBy, setCreatedBy] = useState(loggedInUser)\n  const [tag, setTag] = useState('')\n  const [tags, setTags] = useState([])\n  const [tagToRemove, setTagToRemove] = useState(null)\n  const [uploadStage, setUploadStage] = useState(0)\n  const [message, setMessage] = useState(null)\n\n  // ******** this method handles just the file upload ********\n  const handleFileUpload = e => {\n    // console.log(\"The file to be uploaded is: \", e.target.files[0]);\n    setUploadStage(1)\n    const uploadData = new FormData();\n\n    // imageUrl => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new thing in '/api/things/create' POST route\n    uploadData.append('songUrl', e.target.files[0]);\n\n    service\n      .handleUpload(uploadData)\n      .then(response => {\n        // console.log(\"response is: \", response);\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state\n        setSongUrl(response.secure_url);\n        setUploadStage(2)\n      })\n      .catch(err => console.log('Error while uploading the file: ', err));\n  };\n\n  // this method submits the form\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (title.length > 0) {\n      service\n        .saveNewSong({ title, author, songUrl, createdBy, tags })\n        .then(res => {\n          console.log('added new song: ', res);\n          history.push(`/songs/${res._id}`)\n        })\n        .catch(err => console.log('Error while adding the new song: ', err));\n    } else {\n      setMessage('enter a title')\n    }\n  };\n\n\n  const saveButton = <button className='bottomMargin' type=\"submit\">Save new song</button>\n  const loadIcon = <p>Loading</p>\n  const waitingIcon = <p>Waiting for a file...</p>\n\n\n  const HandleTagSubmit = e => {\n    e.preventDefault();\n    setMessage(null)\n    setTags(tags => {\n      var set = [tag, ...tags].map(el => {\n        return el.toLowerCase()\n      }).filter((t, i, arr) => {\n        if (t === '') {\n          setMessage('cannot add an empty tag')\n          return false\n        }\n        if (arr.indexOf(t) === i) return true\n        else {\n          setMessage(`${t} is already a tag`)\n          return false\n        }\n      })\n      return set\n    }\n    )\n    setTag('')\n  }\n\n  useEffect(() => {\n    (tagToRemove !== null &&\n      setTags([...tags].filter(tagChecked => tagChecked !== tagToRemove))\n    )\n    return () => {\n      setTagToRemove(null)\n    }\n  }, [tagToRemove, tags])\n\n  const handleDeleteTag = e => {\n    e.preventDefault()\n    setTagToRemove(e.target.tagButton.value)\n  }\n\n  useEffect(() => {\n    if (tags.length >= 5) {\n      setMessage('max tags number: 5')\n    }\n  }, [tags])\n\n\n  return (\n    <div className='secondaryContainer'>\n      <h2>New Song</h2>\n      <form onSubmit={handleSubmit} className='baseForm'>\n        {/* <label> Name </label> */}\n        <input type=\"text\" name=\"title\" value={title} onChange={e => setTitle(e.target.value)} placeholder='Title' />\n\n        {/* <label>Author</label> */}\n        <input className='bottomMargin'type=\"text\" name=\"author\" value={author} onChange={e => setAuthor(e.target.value)} placeholder='Author' />\n        <div>\n          <label className='fileUpload'>\n          Choose a file\n            <input type=\"file\" onChange={handleFileUpload} />\n          </label>\n          <div>{uploadStage > 1 ? saveButton : uploadStage > 0 ? loadIcon : waitingIcon}</div>\n        </div>\n      </form>\n\n      {tags.length < 5 &&\n\n        <form onSubmit={HandleTagSubmit} className='baseForm'>\n          <input type=\"text\" name=\"tag\" value={tag} placeholder='Add tags' onChange={e => setTag(e.target.value)} />\n          <button type=\"submit\">Add</button>\n\n        </form>}\n\n\n      {message && <p>{message}</p>}\n      <div className='tagsBox'>\n      {tags.map(tag =>\n        <>\n          <p>{tag}</p>\n          <form onSubmit={handleDeleteTag} >\n            <button name='tagButton' type=\"submit\" value={tag} >x</button>\n          </form>\n        </>\n      )}\n      </div>\n    </div>\n  );\n}\n\n\nexport default AddSong;\n","import { Link } from \"react-router-dom\";\nimport React from 'react'\n\nexport default function SongCard({ title, _id, songUrl, author, tags }) {\n\n\n    return (\n        <div className='songCard'>\n            <Link className=\"Link\" to={`/songs/${_id}`}>\n                <h3>{title}</h3>\n                <h4>{author}</h4>\n            </Link>\n                <div className='tagsBox'>\n                {tags && tags.map(tag => <p>{tag}</p>)}\n                </div>\n            <a href={songUrl} download={`${title}_${author}.mid`}>Download</a>\n        </div>\n    )\n}\n","\nimport \"../App.css\";\nimport React from 'react';\nimport { useState, useEffect } from \"react\";\n// import the service file since we need it to send (and get) the data to(from) the server\nimport service from '../api/service';\nimport SongCard from \"./SongCard\";\n\nfunction SongsList(props) {\n\n  const [allSongs, setAllSongs] = useState([]);\n  const {search, setSearch} = props;\n  const [searchFields, setSearchFields] = useState({ title: true, author: true, tags: false })\n\n  const getAllSongs = () => {\n    return service\n      .findAllSongs()\n      .then(response => {\n        // console.log(\"response is: \", response);\n        setAllSongs(response)\n      })\n      .catch(err => console.log('Error while uploading the file: ', err));\n  }\n\n\n\n  //filter\n\n  useEffect(() => {\n    getAllSongs()\n  }, [])\n\n\n  let words = search.split(' ') || []\n\n  function searchCheck(search, word) {\n    for (let i = 0; i <= word.length; i++) {\n      if (word.substring(i, i + search.length).toLowerCase() === search.toLowerCase()) {\n        return true\n      }\n    }\n    return false\n  }\n\n  const filteredSongs = allSongs.filter(song => {\n    const title = song.title.split(' ')\n    const author = song.author.split(' ')\n    const tags = [...song.tags]\n\n    for (let word of words) {\n      if (searchFields.title === true) {\n        for (let str of title) {\n          if (searchCheck(word, str)) {\n            return true;\n          }\n        }\n      }\n      if (searchFields.author === true) {\n        for (let str of author) {\n          if (searchCheck(word, str)) {\n            return true;\n          }\n        }\n      }\n      if (searchFields.tags === true) {\n        for (let str of tags) {\n          if (searchCheck(word, str)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n  });\n\n\n  // const songsList = allSongs.map(song => <div key={song._id}><h1>{song.title}</h1><a href={song.songUrl} download={`${song.title}_${song.author}.midi`}>Download</a></div>)\n\n  return (<>\n\n    {/* <div className=\"filter\">\n      <label>Search: </label>\n      <input className='searchBar' type=\"search\" name=\"search\" value={search} onChange={e => setSearch(e.target.value)} />\n    </div> */}\n\n    <label>\n      Search by Title\n      <input\n        name=\"title\"\n        type=\"checkbox\"\n        checked={searchFields.title}\n        onChange={e => setSearchFields({ ...searchFields, title: e.target.checked })} />\n    </label>\n    <br />\n    <label>\n      Search by Author\n      <input\n        name=\"author\"\n        type=\"checkbox\"\n        checked={searchFields.author}\n        onChange={e => setSearchFields({ ...searchFields, author: e.target.checked })} />\n    </label>\n    <br />\n    <label>\n      Search through the tags\n      <input\n        name=\"tags\"\n        type=\"checkbox\"\n        checked={searchFields.tags}\n        onChange={e => setSearchFields({ ...searchFields, tags: e.target.checked })} />\n    </label>\n    <br />\n    {/* {songsList} */}\n    <div className='songsListContainer'>\n      {filteredSongs.length > 0 ? filteredSongs.map(song => <SongCard className='songCard' key={song._id} {...song} />) : <p>No songs match your research</p>}\n    </div>\n  </>\n  );\n}\n\nexport default SongsList;\n","import { useLocation, Link } from \"react-router-dom\"\nimport { useHistory } from \"react-router\";\nimport service from '../api/service'\n\nexport default function NavBar(props) {\n\n  // console.log('logged in user is >>>>>>>>>>>>>>>>>>>>>>>>>>>', props.user)\n  const path = useLocation().pathname\n  const history = useHistory()\n  const { search, setSearch } = props;\n\n  const handleSearch = e => {\n    e.preventDefault()\n    history.push('/');\n  }\n\n  const handleLogout = () => {\n    service.logout()\n      .then(() => {\n        props.setUser(null)\n      })\n  }\n\n  const searchBar =\n    <form className='searchBar'>\n      <input type=\"search\" name=\"search\" value={search} onChange={e => setSearch(e.target.value)} placeholder='Type your search here' />\n      {path !== '/' && <button onClick={handleSearch}> Search  </button>}\n    </form>\n\n  return (\n    <nav className='navBar'>\n      <div className='leftNav'>\n        <Link to='/'>\n          <p>ArchiMIDI</p>\n        </Link>\n      {searchBar}\n      </div>\n      {props.user ? (\n        <div className='rightNav'>\n          <Link to=\"/\" onClick={() => handleLogout()}>\n            <p>Logout</p>\n          </Link>\n\n          {path !== '/songs/add' &&\n            <Link to='/songs/add'>\n              <p>Upload Song</p>\n            </Link>}\n\n          <Link to='/mysongs'>\n            <p>My songs</p>\n          </Link>\n        </div>\n      ) : (\n        <div className='rightNav'>\n\n          {path === '/login' && <p>don't have an account?</p>}\n\n          {path !== '/signup' && <>\n            <Link to='/signup'>\n              <p>Sign up</p>\n            </Link>\n          </>}\n\n          {(path !== '/signup' && path !== '/login') && <p>or</p>}\n\n          {path === '/signup' && <p>already  a user?</p>}\n\n          {path !== '/login' &&\n            <Link to='/login'>\n              <p>Log in</p>\n            </Link>\n          }\n\n          {(path !== '/signup' && path !== '/login') && <p>to upload a song </p>}\n        </div>\n      )}\n    </nav>\n  )\n}","export const HOMEPAGE = \"/\";\n","import React from 'react'\nimport { useState } from 'react'\nimport service from '../api/service'\nimport { useEffect } from 'react'\nimport { useHistory } from 'react-router'\nimport { Link } from 'react-router-dom'\nimport SongCard from './SongCard'\n\nexport default function SongDetails(props) {\n    let history = useHistory()\n    // console.log(history)\n    const [song, setSong] = useState(null)\n    const [midiPlayer, setMidiPlayer] = useState({ body: null })\n\n    let currentUserId = (props.user ? props.user._id : '');\n    const songId = props.match.params.id\n\n    const deleteSong = (id) => {\n        try {\n            //// i made it work but i'm not sure I get it. response is not the right word.////\n            const response = service\n                .deleteSong(id)\n                .then\n            console.log('song deleted:', response)\n            history.push('/')\n        } catch (err) {\n            return console.log(err)\n        }\n\n    }\n\n    const retrieveSong = async (id) => {\n        try {\n            const response = await service\n                .getSong(id)\n            setSong(response)\n        } catch (err) {\n            history.push('/404')\n            return console.log(err)\n        }\n    }\n\n    useEffect(() => {\n        retrieveSong(songId)\n    }, [songId])\n\n    useEffect(() => {\n        const script = document.createElement('script');\n        script.src = \"https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.22.1/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.4.0\";\n        script.async = true;\n        document.body.appendChild(script);\n\n        return () => {\n            document.body.removeChild(script);\n        }\n    }, []);\n\n    useEffect(() => {\n        song && setMidiPlayer({\n            body:\n                <>\n                    <section id=\"player2\">\n                        <midi-player\n                            src={song.songUrl}\n                            visualizer=\"#player2 midi-visualizer\">\n                        </midi-player>\n                        <midi-visualizer\n                            type=\"piano-roll\"\n                            src={song.songUrl}>\n                        </midi-visualizer>\n                    </section>\n\n                </>\n        })\n    }, [song])\n\n\n    return (\n        <div className='secondaryContainer'>\n            {song && (\n                <div className='baseForm'>\n                <SongCard className='songCard' key={song._id} {...song} />\n                    \n                    <div >\n                    {(currentUserId === song.createdBy) && <button onClick={() => deleteSong(song._id)}>Delete {song.title}</button>}\n\n                    {(currentUserId === song.createdBy) && <Link to={`/songs/edit/${song._id}`}><button>Edit {song.title}</button></Link>}\n                    </div>\n                    {(midiPlayer.body !== null) ? <div>{midiPlayer.body}</div> : <p>nothing to play</p>}\n                </div>)}\n        </div>\n    )\n}\n","import React from 'react'\nimport { useState } from 'react';\nimport service from '../api/service';\n\n\nexport default function Signup(props) {\n\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [message, setMessage] = useState('');\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        // console.log(username, password)\n        service.signup(username, password)\n            .then(response => {\n                console.log(response)\n                if (response.message) {\n                    setUsername('');\n                    setPassword('');\n                    setMessage(response.message)\n                    console.log(response.message)\n                } else {\n\n                    console.log(username)\n                    props.setUser(response)\n                    props.history.push('/')\n\n\n                }\n            })\n            .catch(err => console.log(err))\n\n\n    }\n    return (\n        <div className='secondaryContainer'>\n            <h3>Sign up</h3>\n            <form onSubmit={handleSubmit} className='baseForm'>\n                <label htmlFor=\"username\">Username: </label>\n                <input\n                    type=\"text\"\n                    name=\"username\"\n                    value={username}\n                    onChange={e => setUsername(e.target.value)}\n                />\n                <label htmlFor=\"password\">Password: </label>\n                <input\n                    type=\"password\"\n                    name=\"password\"\n                    value={password}\n                    onChange={e => setPassword(e.target.value)}\n                />\n                <button type=\"submit\">Sign Up ✍️</button>\n                {message && (\n                    <h3>{message}</h3>\n                )}\n            </form>\n        </div>\n    )\n}\n","import React from 'react'\nimport { useState } from 'react'\nimport service from '../api/service';\n\nexport default function Login(props) {\n\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [message, setMessage] = useState('');\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        // console.log('handleSubmit login.js ', username, password)\n\n        service.login(username, password)\n            .then(response => {\n                console.log('handlesubmit service.login response:', response);\n                if (response.message) {\n                    setMessage(response.message)\n                    setUsername('')\n                    setPassword('')\n                } else {\n                    props.setUser(response);\n                    props.history.push('/')\n                }\n            })\n\n    }\n    return (\n        <div className='secondaryContainer'>\n            <h3>Log in</h3>\n            <form onSubmit={handleSubmit} className='baseForm'>\n                <label htmlFor=\"username\">Username: </label>\n                <input\n                    type=\"text\"\n                    name=\"username\"\n                    value={username}\n                    onChange={e => setUsername(e.target.value)}\n                />\n                <label htmlFor=\"password\">Password: </label>\n                <input\n                    type=\"password\"\n                    name=\"password\"\n                    value={password}\n                    onChange={e => setPassword(e.target.value)}\n                />\n                <button type=\"submit\">Log in✍️</button>\n                {message && (\n                    <h3>{message}</h3>\n                )}\n            </form>\n        </div>\n    )\n}\n","import React from 'react'\nimport service from '../api/service';\nimport SongCard from \"./SongCard\";\nimport { useState, useEffect } from \"react\";\n\nexport default function MySongs(props) {\n\n    // console.log('My songs user is', props.user)\n\n    const [allSongs, setAllSongs] = useState([])\n\n    const getAllSongs = () => {\n        return service\n            .findAllSongs()\n            .then(response => {\n                // console.log(\"response is: \", response);\n                setAllSongs(response)\n            })\n            .catch(err => console.log('Error while uploading the file: ', err));\n    }\n    //filter\n    useEffect(() => {\n        getAllSongs()\n    }, [])\n\n    const filteredSongs = allSongs.filter(song => {\n        return song.createdBy === props.user._id\n    })\n\n    // console.log('filtered songs are', filteredSongs)\n    // console.log('MySongs user is ', props.user)\n\n\n    return (\n        <>\n            <h3>My Songs</h3>\n            <div className='songsListContainer'>\n\n                {filteredSongs.length >= 1 ? (\n                    <>\n                        {filteredSongs.map(song => <SongCard key={song._id} {...song} />)}\n                    </>\n                ) : (\n\n                    <>\n                        <h1>You haven't uploaded any songs yet</h1>\n                    </>\n                )}\n            </div>\n        </>\n    )\n}","import React from 'react'\nimport { useState, useEffect } from 'react'\nimport service from '../api/service';\nimport axios from 'axios'\n\nexport default function EditSong(props) {\n\n    const [title, setTitle] = useState('')\n    const [author, setAuthor] = useState('')\n\n    const songId = props.match.params.id;\n    // console.log(songId);\n\n    const getSong = () => {\n        axios.get(`/api/songs/${songId}`)\n            .then(response => {\n                console.log(response.data)\n                setTitle(response.data.title)\n                setAuthor(response.data.author)\n            })\n            .catch(err => console.log(err))\n    }\n\n    useEffect(() => {\n        getSong();\n    }, [])\n\n    const handleSubmit = e => {\n\n        e.preventDefault();\n        const requestBody = { title, author };\n        axios.put(`/api/${songId}`, requestBody)\n            .then(response => {\n                console.log(response)\n                props.history.push(`/songs/${songId}`)\n            })\n            .catch(err => console.log(err))\n    }\n\n    return (\n        <div className='secondaryContainer'>\n            <h3>Edit song</h3>\n            <form onSubmit={handleSubmit} className='baseForm'>\n                <label htmlFor=\"title\">Title: </label>\n                <input\n                    type=\"text\"\n                    name=\"title\"\n                    value={title}\n                    onChange={e => setTitle(e.target.value)}\n                />\n                <label htmlFor=\"author\">Author: </label>\n                <input\n                    type=\"text\"\n                    name=\"author\"\n                    value={author}\n                    onChange={e => setAuthor(e.target.value)}\n                />\n                <button type=\"submit\">Update this project</button>\n            </form>\n\n        </div>\n    )\n}\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport AddSong from \"./components/AddSong\";\nimport SongsList from \"./components/SongsList\";\nimport NavBar from \"./components/NavBar\";\nimport * as PATHS from \"./utils/paths\";\nimport SongDetails from \"./components/SongDetails\";\nimport Signup from \"./components/Signup\";\nimport { useState } from 'react'\nimport Login from \"./components/Login\";\nimport { useHistory } from \"react-router\";\nimport MySongs from \"./components/MySongs\";\nimport EditSong from \"./components/EditSong\";\nimport { Link } from \"react-router-dom\";\n\n\nfunction App(props) {\n  const [search, setSearch] = useState(props.search);\n  const [user, setUser] = useState(props.user)\n  const history = useHistory()\n  const addUser = user => {\n    setUser(user);\n  }\n\n\n  function NotFound() {\n\n    return (<><h1>404 - Not Found</h1>  <Link to='/'>Return home</Link></>)\n  }\n\n\n  return (\n    <div className=\"App\">\n\n      <NavBar user={user} setUser={setUser} search={search} setSearch={setSearch} currentPage={props}></NavBar>\n      <div className='mainContainer'>\n        <Switch>\n          <Route exact path={PATHS.HOMEPAGE}\n            render={props => <SongsList search={search} setSearch={setSearch} />} />\n          <Route exact path=\"/songs/add\"\n            render={user ? props => <AddSong user={user} setUser={setUser} /> : props => <Login setUser={addUser}{...props} />\n            } />\n          <Route exact path=\"/songs/:id\"\n            render={user ? props => <SongDetails user={user}{...props} /> : props => <SongDetails user={null}{...props} />\n            } />\n\n          <Route exact path=\"/signup\"\n            render={props => <Signup setUser={addUser}{...props} />} />\n          <Route exact path=\"/login\"\n            render={props => <Login setUser={addUser}{...props} />} />\n          <Route exact path=\"/mysongs\"\n            render={props => <MySongs user={user} setUser={setUser} />} />\n          <Route exact path=\"/songs/edit/:id\" component={EditSong} />\n          <Route component={NotFound} />\n        </Switch>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport axios from 'axios'\n\naxios.get('/api/auth/loggedin')\n.then(response => {\n  console.log('response in: ', response);\n  const user = response.data;\n  ReactDOM.render(\n    \n    <Router>\n        <App user={user} search={''} />\n      </Router>,\n      document.getElementById('root')\n    );\n  })\n"],"sourceRoot":""}