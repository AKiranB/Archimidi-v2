{"version":3,"sources":["api/service.js","components/AddSong.js","components/SongCard.js","components/SongsList.jsx","components/NavBar.js","utils/paths.js","components/SongDetails.js","components/Signup.js","components/Login.js","components/MySongs.js","App.js","index.js"],"names":["service","axios","create","baseURL","errorHandler","err","data","deleteSong","songId","delete","then","res","catch","handleUpload","file","post","saveNewSong","newSong","findAllSongs","get","getSong","signup","username","password","response","login","console","log","logout","AddSong","props","history","useHistory","loggedInUser","user","_id","useState","title","setTitle","author","setAuthor","songUrl","setSongUrl","createdBy","tag","setTag","tags","setTags","tagToRemove","setTagToRemove","uploadStage","setUploadStage","message","setMessage","saveButton","type","loadIcon","waitingIcon","useEffect","filter","tagChecked","onSubmit","e","preventDefault","push","name","value","onChange","target","files","uploadData","FormData","append","secure_url","length","map","el","toLowerCase","t","i","arr","indexOf","SongCard","className","to","href","download","SongsList","allSongs","setAllSongs","search","setSearch","searchFields","setSearchFields","words","split","searchCheck","word","substring","filteredSongs","song","checked","NavBar","path","useLocation","pathname","onClick","setUser","SongDetails","setSong","body","midiPlayer","setMidiPlayer","currentUserId","match","params","id","retrieveSong","a","script","document","createElement","src","async","appendChild","removeChild","visualizer","Signup","setUsername","setPassword","htmlFor","Login","MySongs","App","addUser","currentPage","exact","component","render","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.5967253b.chunk.js","sourcesContent":["import axios from 'axios';\n\n\nconst service = axios.create({\n  baseURL: '/api'\n});\n\nconst errorHandler = err => {\n  throw err;\n};\n\nconst findAllSongs = () => {\n  return service\n    .get('/songs')\n    .then(res => res.data)\n    .catch(errorHandler);\n}\n\nconst getSong = (songId) => {\n  return service\n    .get(`/songs/${songId}`)\n    .then(res => res.data)\n    .catch(errorHandler)\n}\n\nconst handleUpload = file => {\n  return service\n    .post('/upload', file)\n    .then(res => res.data)\n    .catch(errorHandler);\n};\n\nconst saveNewSong = newSong => {\n  return service\n    .post('/songs/create', newSong)\n    .then(res => res.data)\n    .catch(errorHandler);\n};\n\nconst deleteSong = (songId) => {\n  return service\n    .delete(`/${songId}`)\n    .then(res => res.data)\n    .catch(errorHandler)\n}\n//**********<-----------Authentication Starts here---------->**********/\n\nconst signup = (username, password) => {\n  return service.post('/auth/signup', { username, password })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data\n    })\n}\n\nconst login = (username, password) => {\n\n  return service.post('/auth/login', { username, password })\n    .then(response => {\n      console.log('service.js login response:', response)\n      return response.data\n    })\n    .catch(err => {\n      return err.response.data\n    })\n}\n\nconst logout = () => {\n  return service.delete('/auth/logout')\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\n\nconst data = {\n  service,\n  deleteSong,\n  handleUpload,\n  saveNewSong,\n  findAllSongs,\n  getSong,\n  signup,\n  login,\n  logout\n};\n\n\n\nexport default data;\n","import React from 'react';\nimport { useState, useEffect } from \"react\";\n// import the service file since we need it to send (and get) the data to(from) the server\nimport service from '../api/service';\nimport { useHistory } from 'react-router';\n\nfunction AddSong(props) {\n  let history = useHistory()\n\n  const loggedInUser = props.user._id\n\n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [songUrl, setSongUrl] = useState('');\n  const [createdBy, setCreatedBy] = useState(loggedInUser)\n  const [tag, setTag] = useState('')\n  const [tags, setTags] = useState([])\n  const [tagToRemove, setTagToRemove] = useState(null)\n  const [uploadStage, setUploadStage] = useState(0)\n  const [message, setMessage] = useState(null)\n\n  // ******** this method handles just the file upload ********\n  const handleFileUpload = e => {\n    console.log(\"The file to be uploaded is: \", e.target.files[0]);\n    setUploadStage(1)\n    const uploadData = new FormData();\n\n    // imageUrl => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new thing in '/api/things/create' POST route\n    uploadData.append('songUrl', e.target.files[0]);\n\n    service\n      .handleUpload(uploadData)\n      .then(response => {\n        // console.log(\"response is: \", response);\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state\n        setSongUrl(response.secure_url);\n        setUploadStage(2)\n      })\n      .catch(err => console.log('Error while uploading the file: ', err));\n  };\n\n  // this method submits the form\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    service\n      .saveNewSong({ title, author, songUrl, createdBy, tags })\n      .then(res => {\n        console.log('added new song: ', res);\n        history.push(`/songs/${res._id}`)\n        // here you would redirect to some other pagess\n      })\n      .catch(err => console.log('Error while adding the new song: ', err));\n  };\n\n\n  const saveButton = <button type=\"submit\">Save new song</button>\n  const loadIcon = <p>Loading</p>\n  const waitingIcon = <p>upload your file</p>\n\n\n  const HandleTagSubmit = e => {\n    e.preventDefault();\n    setMessage(null)\n    setTags(tags => {\n      var set = [tag, ...tags].map(el => {\n        return el.toLowerCase()\n      }).filter((t, i, arr) => {\n        if (arr.indexOf(t) === i) return true\n        else {\n          setMessage(`${t} is already a tag`)\n          return false\n        }\n      })\n      return set\n    }\n    )\n    setTag('')\n  }\n\n  useEffect(() => {\n    \n    (tagToRemove !== null &&\n      setTags([...tags].filter(tagChecked => tagChecked !== tagToRemove))\n    )\n    return () => {\n      setTagToRemove(null)\n    }\n  }, [tags, tagToRemove])\n\n  return (\n    <div>\n      <h2>New Song</h2>\n      <form onSubmit={handleSubmit}>\n        <label>\n          Name\n          <input type=\"text\" name=\"title\" value={title} onChange={e => setTitle(e.target.value)} />\n        </label>\n\n        <label>Author</label>\n        <textarea type=\"text\" name=\"author\" value={author} onChange={e => setAuthor(e.target.value)} />\n\n        <input type=\"file\" onChange={handleFileUpload} />\n        <div>{uploadStage > 1 ? saveButton : uploadStage > 0 ? loadIcon : waitingIcon}</div>\n      </form>\n\n      {tags.length < 5 ?\n      <form onSubmit={HandleTagSubmit}>\n        <label>\n          Tags\n          <input type=\"text\" name=\"tag\" value={tag} onChange={e => setTag(e.target.value)} />\n        </label>\n        <button type=\"submit\">Add Tag</button>\n      </form> : <p>max tags number reached</p>}\n\n      {message && <p>{message}</p>}\n      {tags.map(tag =>\n        <>\n          <p>{tag}</p>\n          <form onSubmit={\n            \n            tag => setTagToRemove(tag)\n          }>\n            <button type=\"submit\">x</button>\n          </form>\n        </>\n      )}\n    </div>\n  );\n}\n\n\nexport default AddSong;\n","import { Link } from \"react-router-dom\";\nimport React from 'react'\n\nexport default function SongCard({ title, _id, songUrl, author }) {\n    // console.log(title)\n\n    return (\n        <div className='songCard'>\n            <Link className=\"Link\" to={`/songs/${_id}`}>\n                <h3>{title}</h3>\n            </Link>\n            <a href={songUrl} download={`${title}_${author}.mid`}>Download</a>\n        </div>\n    )\n}\n","\nimport \"../App.css\";\nimport React from 'react';\nimport { useState, useEffect } from \"react\";\n// import the service file since we need it to send (and get) the data to(from) the server\nimport service from '../api/service';\nimport { Link } from \"react-router-dom\";\nimport SongCard from \"./SongCard\";\n\n\n\n\nfunction SongsList(props) {\n  \n  const [allSongs, setAllSongs] = useState([]);\n  const [search, setSearch] = useState('');\n  const [searchFields, setSearchFields] = useState({ title: true, author: true, tags: false })\n  \n  const getAllSongs = () => {\n    return service\n    .findAllSongs()\n    .then(response => {\n      // console.log(\"response is: \", response);\n      setAllSongs(response)\n    })\n    .catch(err => console.log('Error while uploading the file: ', err));\n  }\n  \n  \n  \n  //filter\n  \n  useEffect(() => {\n    getAllSongs()\n  }, [])\n  \n  \n  let words = search.split(' ')\n  \n  function searchCheck (search, word) {\n    for (let i = 0; i <= word.length; i++){\n      if (word.substring(i, i+search.length).toLowerCase() === search.toLowerCase()){\n        return true\n      } \n    }\n    return false\n  }\n  \n  const filteredSongs = allSongs.filter(song => {\n    const title = song.title.split(' ')\n    const author = song.author.split(' ')\n    const tags = [...song.tags]\n    \n    for (let word of words){\n      if (searchFields.title === true){\n        for (let str of title){\n          if (searchCheck(word, str)) {\n            return true;\n          }\n        }\n      }\n      if (searchFields.author === true){\n        for (let str of author){\n          if (searchCheck(word, str)) {\n            return true;\n          }\n        }\n      }\n      if (searchFields.tags === true){\n      for (let str of tags){\n        if (searchCheck(word, str)) {\n          return true;\n        }\n      }\n    }\n      return false;\n    }\n  });\n  \n  \n  // const songsList = allSongs.map(song => <div key={song._id}><h1>{song.title}</h1><a href={song.songUrl} download={`${song.title}_${song.author}.midi`}>Download</a></div>)\n  \n  return (<>\n    <h1>List of Songs</h1>\n    <div className=\"filter\">\n    <label>Search: </label>\n    <input className='searchBar' type=\"search\" name=\"search\" value={search} onChange={e => setSearch(e.target.value)} />\n    </div>\n    <label>\n    Search by Title\n    <input\n    name=\"title\"\n    type=\"checkbox\"\n    checked={searchFields.title}\n    onChange={e => setSearchFields({ ...searchFields, title: e.target.checked })} />\n    </label>\n    <br />\n    <label>\n    Search by Author\n    <input\n    name=\"author\"\n    type=\"checkbox\"\n    checked={searchFields.author}\n    onChange={e => setSearchFields({ ...searchFields, author: e.target.checked })} />\n    </label>\n    <br />\n    <label>\n    Search through the tags\n    <input\n    name=\"tags\"\n    type=\"checkbox\"\n    checked={searchFields.tags}\n    onChange={e => setSearchFields({ ...searchFields, tags: e.target.checked })} />\n    </label>\n    <br />\n    {/* {songsList} */}\n    <div className='songsListContainer'>\n    {filteredSongs.length > 0 ? filteredSongs.map(song => <SongCard className='songCard' key={song._id} {...song} />) : <p>No songs match your research</p>}\n    </div>\n    </>\n    );\n  }\n  \n  export default SongsList;\n  ","import { useLocation, Link } from \"react-router-dom\"\nimport service from '../api/service'\n\nexport default function NavBar(props) {\n    // console.log('logged in user is >>>>>>>>>>>>>>>>>>>>>>>>>>>', props.user)\n    const path = useLocation().pathname\n\n    const handleLogout = () => {\n        service.logout()\n            .then(() => {\n                props.setUser(null)\n            })\n    }\n\n    return (\n        <nav className='navBar'>\n            {props.user ? (\n                <>\n                    {path !== '/' &&\n                        <Link to='/'>\n                            <p className='navElements'>Home</p>\n                        </Link>\n                    }\n                    <Link to=\"/\" onClick={() => handleLogout()}>\n                        <p className='navElements'>Logout</p>\n                    </Link>\n                    {path !== '/songs/add' &&\n                        <Link to='/songs/add'>\n                            <p className='navElements'>Upload Song</p>\n                        </Link>}\n                    <Link to='/mysongs'>\n                        <p className='navElements'>My songs</p>\n                    </Link>\n                </>\n            ) : (\n                <>\n                    {path !== '/' &&\n                        <Link to='/'>\n                            <p className='navElements'>Home</p>\n                        </Link>\n                    }\n                    {path === '/login' && <p>don't have an account?</p>}\n                    {path !== '/signup' && <>\n                        <Link to='/signup'>\n                            <p className='navElements'>Sign up</p>\n                        </Link>\n                    </>\n                    }\n                    {(path !== '/signup' && path !== '/login') && <p>or</p>}\n                    {path === '/signup' && <p>already  a user?</p>}\n                    {path !== '/login' &&\n                        <>\n                            <Link to='/login'>\n                                <p className='navElements'>Log in</p>\n                            </Link>\n                        </>\n                    }\n                    {(path !== '/signup' && path !== '/login') && <p>to upload a song </p>}\n                </>\n            )}\n        </nav>\n    )\n}","export const HOMEPAGE = \"/\";\n","import React from 'react'\nimport { useState } from 'react'\nimport service from '../api/service'\nimport { useEffect } from 'react'\nimport { useHistory } from 'react-router'\n\nexport default function SongDetails(props) {\n    let history = useHistory()\n    console.log(history)\n    const [song, setSong] = useState(null)\n    const [midiPlayer, setMidiPlayer] = useState({ body: null })\n    \n    let currentUserId = (props.user ? props.user._id : '');\n    const songId = props.match.params.id\n    const deleteSong = (id) => {\n        try {\n            //// i made it work but i'm not sure I get it. response is not the right word.////\n            const response = service\n            .deleteSong(id)\n            .then\n                console.log('song deleted:', response)\n                history.push('/')\n        } catch (err) {\n            return console.log(err)\n        }\n        \n    }\n    \n    const retrieveSong = async (id) => {\n        try {\n            const response = await service\n            .getSong(id)\n            console.log('song retrieved:', response)\n            setSong(response)\n        } catch (err) {\n            return console.log(err)\n        }\n    }\n    \n    useEffect(() => {\n        retrieveSong(songId)\n    }, [songId])\n    \n    useEffect(() => {\n        const script = document.createElement('script');\n        \n        script.src = \"https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.22.1/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.4.0\";\n        script.async = true;\n        \n        document.body.appendChild(script);\n        \n        return () => {\n            document.body.removeChild(script);\n        }\n    }, []);\n    \n    useEffect(() => {\n        song && setMidiPlayer({\n            body:\n            <>\n            <section id=\"player2\">\n            <midi-visualizer\n            type=\"piano-roll\"\n            src={song.songUrl}>\n            </midi-visualizer>\n            {/* <midi-visualizer\n            type=\"staff\"\n            src={song.songUrl}>\n            </midi-visualizer> */}\n            <midi-player\n            src={song.songUrl}\n            visualizer=\"#player2 midi-visualizer\">\n            </midi-player>\n            </section>\n            \n            </>\n        })\n    }, [song])\n    \n    \n    return (\n        <div>\n        {song && (\n            <div>\n            <h1>{song.title}</h1>\n            <h3>{song.author}</h3>\n            <p>{song.songUrl}</p>\n            <a href={song.songUrl} download={`${song.title}_${song.author}.mid`}>Download</a>\n            {(currentUserId === song.createdBy) && <button onClick={() => deleteSong(song._id)}>Delete {song.title}</button>}\n            {(midiPlayer.body !== null) ? <div>{midiPlayer.body}</div> : <p>nothing to play</p>}\n            </div>)}\n            </div>\n            )\n        }\n        ","import React from 'react'\nimport { useState } from 'react';\nimport service from '../api/service';\n\n\nexport default function Signup(props) {\n\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [message, setMessage] = useState('');\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        // console.log(username, password)\n        service.signup(username, password)\n            .then(response => {\n                console.log(response)\n                if (response.message) {\n                    setUsername('');\n                    setPassword('');\n                    setMessage(response.message)\n                    console.log(response.message)\n                } else {\n\n                    console.log(username)\n                    props.setUser(response)\n                    props.history.push('/')\n\n\n                }\n            })\n            .catch(err => console.log(err))\n\n\n    }\n    return (\n        <div>\n            <h3>Sign up</h3>\n            <form onSubmit={handleSubmit}>\n                <label htmlFor=\"username\">Username: </label>\n                <input\n                    type=\"text\"\n                    name=\"username\"\n                    value={username}\n                    onChange={e => setUsername(e.target.value)}\n                />\n                <label htmlFor=\"password\">Password: </label>\n                <input\n                    type=\"password\"\n                    name=\"password\"\n                    value={password}\n                    onChange={e => setPassword(e.target.value)}\n                />\n                <button type=\"submit\">Sign Up ✍️</button>\n                {message && (\n                    <h3>{message}</h3>\n                )}\n            </form>\n        </div>\n    )\n}\n","import React from 'react'\nimport { useState } from 'react'\nimport service from '../api/service';\n\nexport default function Login(props) {\n\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [message, setMessage] = useState('');\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        console.log('handleSubmit login.js ', username, password)\n\n        service.login(username, password)\n            .then(response => {\n                console.log('handlesubmit service.login response:', response);\n                if (response.message) {\n                    setMessage(response.message)\n                    setUsername('')\n                    setPassword('')\n                } else {\n                    props.setUser(response);\n                    props.history.push('/')\n                }\n            })\n\n    }\n    return (\n        <div>\n            <h3>Log in</h3>\n            <form onSubmit={handleSubmit}>\n                <label htmlFor=\"username\">Username: </label>\n                <input\n                    type=\"text\"\n                    name=\"username\"\n                    value={username}\n                    onChange={e => setUsername(e.target.value)}\n                />\n                <label htmlFor=\"password\">Password: </label>\n                <input\n                    type=\"password\"\n                    name=\"password\"\n                    value={password}\n                    onChange={e => setPassword(e.target.value)}\n                />\n                <button type=\"submit\">Log in✍️</button>\n                {message && (\n                    <h3>{message}</h3>\n                )}\n            </form>\n        </div>\n    )\n}\n","import React from 'react'\nimport service from '../api/service';\nimport SongCard from \"./SongCard\";\nimport { useState, useEffect } from \"react\";\n\nexport default function MySongs(props) {\n\n    console.log('My songs user is', props.user)\n\n    const [allSongs, setAllSongs] = useState([])\n\n    const getAllSongs = () => {\n        return service\n            .findAllSongs()\n            .then(response => {\n                // console.log(\"response is: \", response);\n                setAllSongs(response)\n            })\n            .catch(err => console.log('Error while uploading the file: ', err));\n    }\n    //filter\n    useEffect(() => {\n        getAllSongs()\n    }, [])\n\n    const filteredSongs = allSongs.filter(song => {\n        return song.createdBy === props.user._id\n    })\n\n    // console.log('filtered songs are', filteredSongs)\n    // console.log('MySongs user is ', props.user)\n    //comment\n\n    return (\n        <div className='songsListContainer'>\n            <h3>My Songs</h3>\n            {filteredSongs.length >= 1 ? (\n                <>\n                    {filteredSongs.map(song => <SongCard key={song._id} {...song} />)}\n                </>\n            ) : (\n\n                <>\n                    <h1>You haven't uploaded any songs yet</h1>\n                </>\n            )}\n        </div>\n    )\n}","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport AddSong from \"./components/AddSong\";\nimport SongsList from \"./components/SongsList\";\nimport NavBar from \"./components/NavBar\";\nimport * as PATHS from \"./utils/paths\";\nimport SongDetails from \"./components/SongDetails\";\nimport Signup from \"./components/Signup\";\nimport { useState } from 'react'\nimport Login from \"./components/Login\";\nimport { useHistory } from \"react-router\";\nimport MySongs from \"./components/MySongs\";\n\nfunction App(props) {\n\n  const [user, setUser] = useState(props.user)\n  const history = useHistory()\n  const addUser = user => {\n    setUser(user);\n  }\n\n  const redirectToLogin = () => history.push(`/login`)\n  // console.log('App.js user is :', user)\n\n  console.log('user in app.js', user)\n\n  return (\n    <div className=\"App\">\n      <NavBar user={user} setUser={setUser} currentPage={props}></NavBar>\n      <h1>ArchiMIDIs</h1>\n      <Switch>\n        <Route exact path={PATHS.HOMEPAGE} component={SongsList} />\n        <Route exact path=\"/songs/add\"\n          render={user ? props => <AddSong user={user} setUser={setUser} /> : redirectToLogin()\n          } />\n        <Route exact path=\"/songs/:id\"\n          render={user ? props => <SongDetails user={user}{...props} /> : props => <SongDetails user={null}{...props} />\n          } />\n\n        <Route exact path=\"/signup\"\n          render={props => <Signup setUser={addUser}{...props} />} />\n        <Route exact path=\"/login\"\n          render={props => <Login setUser={addUser}{...props} />} />\n        <Route exact path=\"/mysongs\"\n          render={props => <MySongs user={user} setUser={setUser} />} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport axios from 'axios'\n\naxios.get('/api/auth/loggedin')\n  .then(response => {\n    console.log('response in: ', response);\n    const user = response.data;\n    ReactDOM.render(\n      <Router>\n        <App user={user} />\n      </Router>,\n      document.getElementById('root')\n    );\n  })\n"],"sourceRoot":""}