{"version":3,"sources":["api/service.js","components/AddSong.js","components/SongCard.js","components/SongsList.jsx","components/NavBar.js","components/SongDetails.js","components/Signup.js","components/Login.js","components/MySongs.js","components/EditSong.js","App.js","utils/paths.js","index.js"],"names":["service","axios","create","baseURL","errorHandler","err","data","handleUpload","file","post","then","res","catch","saveNewSong","newSong","findAllSongs","get","getSong","songId","signup","username","password","response","login","logout","delete","deleteSong","AddSong","props","history","useHistory","loggedInUser","user","_id","useState","title","setTitle","author","setAuthor","songUrl","setSongUrl","createdBy","tag","setTag","tags","setTags","tagToRemove","setTagToRemove","uploadStage","setUploadStage","message","setMessage","saveButton","Button","variant","className","type","loadIcon","waitingIcon","style","fontSize","useEffect","filter","tagChecked","handleDeleteTag","e","preventDefault","target","tagButton","value","length","onSubmit","push","console","log","TextField","name","onChange","id","label","placeholder","uploadData","FormData","append","files","secure_url","map","el","toLowerCase","t","i","arr","indexOf","index","SongCard","likes","likedUsers","song","setSong","currentUserId","to","href","download","includes","onClick","put","Error","SongsList","allSongs","setAllSongs","sortedSongs","setSortedSongs","search","searchFields","setSearchFields","alphabetic","sortFields","setSort","getAllSongs","a","result","words","split","dynamicSort","property","sortOrder","substr","b","searchCheck","word","substring","array","songs","sortedArray","sort","filteredSongs","searchCheckBoxes","Checkbox","checked","sortCheckBoxes","Accordion","color","AccordionSummary","expandIcon","Typography","AccordionDetails","component","NavBar","React","setValue","handleChange","event","newValue","setSearch","searchBar","Input","Box","Tabs","width","Tab","Link","setUser","SongDetails","body","midiPlayer","setMidiPlayer","match","params","retrieveSong","script","document","createElement","src","async","appendChild","removeChild","visualizer","marginLeft","Signup","setUsername","setPassword","error","Login","required","MySongs","userId","getMySongs","undefined","EditSong","requestBody","App","addUser","currentPage","exact","path","render","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.e2e57a03.chunk.js","sourcesContent":["import axios from 'axios';\n\n\nconst service = axios.create({\n  baseURL: '/api'\n});\n\nconst errorHandler = err => {\n  throw err;\n};\n\nconst findAllSongs = () => {\n  return service\n    .get('/songs')\n    .then(res => res.data)\n    .catch(err => {\n      errorHandler('error retrieving all songs', err)\n    })\n}\n\nconst getSong = (songId) => {\n  return service\n    .get(`/songs/${songId}`)\n    .then(res => res.data)\n    .catch(err => {\n      errorHandler('error retrieving song:', err)\n    })\n}\n\nconst handleUpload = file => {\n  return service\n    .post('/upload', file)\n    .then(res => res.data)\n    .catch(err => {\n      errorHandler('error uploading file:', err)\n    });\n};\n\nconst saveNewSong = newSong => {\n  return service\n    .post('/songs/create', newSong)\n    .then(res => res.data)\n    .catch(err => {\n      errorHandler('error saving new song', err)\n    });\n};\n\nconst deleteSong = (songId) => {\n  return service\n    .delete(`/${songId}`)\n    .then(res => res.data)\n    .catch(err => {\n      errorHandler('error deleting song:', err)\n    })\n}\n\nconst signup = (username, password) => {\n  return service.post('/auth/signup', { username, password })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data\n    })\n}\n\nconst login = (username, password) => {\n\n  return service.post('/auth/login', { username, password })\n    .then(response => {\n\n      return response.data\n    })\n    .catch(err => {\n      return err.response.data\n    })\n}\n\nconst logout = () => {\n  return service.delete('/auth/logout')\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    })\n}\n\n\nconst data = {\n  service,\n  handleUpload,\n  saveNewSong,\n  findAllSongs,\n  getSong,\n  signup,\n  login,\n  logout,\n  errorHandler,\n  deleteSong\n};\n\n\n\nexport default data;\n","import React from 'react';\nimport { useState, useEffect } from \"react\";\nimport service from '../api/service';\nimport { useHistory } from 'react-router';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\n\nfunction AddSong(props) {\n  let history = useHistory();\n  const loggedInUser = props.user._id\n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [songUrl, setSongUrl] = useState('');\n  const [createdBy,] = useState(loggedInUser);\n  const [tag, setTag] = useState('');\n  const [tags, setTags] = useState([]);\n  const [tagToRemove, setTagToRemove] = useState(null);\n  const [uploadStage, setUploadStage] = useState(0);\n  const [message, setMessage] = useState(null);\n\n  const handleFileUpload = e => {\n\n    setUploadStage(1)\n    const uploadData = new FormData();\n\n\n    uploadData.append('songUrl', e.target.files[0]);\n\n    service\n      .handleUpload(uploadData)\n      .then(response => {\n        setSongUrl(response.secure_url);\n        setUploadStage(2)\n      })\n      .catch(err => console.log('Error while uploading the file: ', err));\n  };\n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (title.length > 0) {\n      service\n        .saveNewSong({ title, author, songUrl, createdBy, tags })\n        .then(res => {\n          history.push(`/songs/${res._id}`)\n        })\n        .catch(err => console.log('Error while adding the new song: ', err));\n    } else {\n      setMessage('enter a title')\n    }\n  };\n\n\n  const saveButton = <Button variant='contained' className='bottomMargin' type=\"submit\">Save new song</Button>\n  const loadIcon = <p>Loading</p>\n  const waitingIcon = <p style={{ fontSize: 15 }}>Waiting for file...</p>\n\n\n  const HandleTagSubmit = e => {\n    e.preventDefault();\n    setMessage(null)\n    setTags(tags => {\n      var set = [tag, ...tags].map(el => {\n        return el.toLowerCase()\n      }).filter((t, i, arr) => {\n        if (t === '') {\n          setMessage('cannot add an empty tag')\n          return false\n        }\n        if (arr.indexOf(t) === i) return true\n        else {\n          setMessage(`${t} is already a tag`)\n          return false\n        }\n      })\n      return set\n    }\n    )\n    setTag('')\n  }\n\n  useEffect(() => {\n    (tagToRemove !== null &&\n      setTags([...tags].filter(tagChecked => tagChecked !== tagToRemove))\n    )\n    return () => {\n      setTagToRemove(null)\n    }\n  }, [tagToRemove, tags])\n\n  const handleDeleteTag = e => {\n    e.preventDefault()\n    setTagToRemove(e.target.tagButton.value)\n  }\n\n  useEffect(() => {\n    if (tags.length >= 5) {\n      setMessage('max tags number: 5')\n    }\n  }, [tags])\n\n\n  return (\n    <div className='secondaryContainer'>\n      <h2>Add a New MIDI song</h2>\n      <form onSubmit={handleSubmit} className='baseForm'>\n\n\n        <TextField\n          type=\"text\"\n          name=\"title\"\n          value={title}\n          onChange={e => setTitle(e.target.value)}\n          id=\"outlined-basic\" label=\"Title\" variant=\"outlined\"\n          placeholder='Title'\n          className='Input'\n        />\n\n        <TextField\n          className='Input'\n          type=\"text\" name=\"author\"\n          value={author} onChange={e => setAuthor(e.target.value)}\n          id=\"outlined-basic\" label=\"Author\" variant=\"outlined\"\n          placeholder='Author'\n        />\n        <div>\n          <label className='fileUpload'>\n            Choose a file\n            <input type=\"file\" onChange={handleFileUpload} />\n          </label>\n          <div>{uploadStage > 1 ? saveButton : uploadStage > 0 ? loadIcon : waitingIcon}</div>\n        </div>\n\n      </form>\n\n      {tags.length < 5 &&\n\n        <form onSubmit={HandleTagSubmit} className='baseForm'>\n\n          <TextField\n            type=\"text\"\n            name=\"tag\" value={tag}\n            placeholder='Add tags'\n            onChange={e => setTag(e.target.value)}\n          />\n          <Button type=\"submit\">Add</Button>\n\n        </form>}\n\n\n      {message && <p>{message}</p>}\n      <div className='tagsBox'>\n        {tags.map((tag, index) =>\n          <>\n            <p>{tag}</p>\n            <form onSubmit={handleDeleteTag} >\n\n              <Button\n                name='tagButton'\n                type=\"submit\"\n                value={tag}\n              >x\n              </Button>\n\n            </form>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\n\nexport default AddSong;\n","import { Link } from \"react-router-dom\";\nimport React from 'react'\nimport DownloadIcon from '@mui/icons-material/Download';\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\nimport axios from 'axios';\nimport { useState } from 'react'\n\n\n\n\n\nexport default function SongCard({\n    title,\n    _id,\n    songUrl,\n    author,\n    tags,\n    likes,\n    user,\n    likedUsers\n\n}) {\n\n    const [song, setSong] = useState({\n        title: title,\n        _id: _id,\n        songUrl: songUrl,\n        author: author,\n        tags: tags,\n        likes: likes,\n        likedUsers: likedUsers\n    });\n\n    let currentUserId = (user ? user._id : '');\n    const songId = _id;\n\n    const incrementLike = () => {\n        axios.put(`/api/like/${songId}`, { currentUserId })\n            .then(response => {\n                setSong(response.data);\n            })\n            .catch(err => {\n                throw new Error('Cannot update likes:', err);\n            });\n    };\n\n    const decrementLike = () => {\n        axios.put(`/api/unlike/${songId}`, { currentUserId })\n            .then(response => {\n                setSong(response.data)\n            })\n            .catch(err => {\n                throw new Error('Cannot update likes:', err)\n            });\n    };\n\n    return (\n        <div key={_id} className='songCard'>\n            <Link className=\"Link\"\n                to={`/songs/${_id}`}\n            >\n                <div className='cardTop'>\n                    <h3>{song.title}</h3>\n                    <h4>By {song.author}</h4>\n                </div>\n            </Link>\n            <div className='tagsBox'>\n                {tags && tags.map((tag, i) => <p key={i}>{tag}</p>)}\n            </div>\n            <div className='likeAndDownloadContainer'>\n                <a href={songUrl} download={`${song.title}_${song.author}.mid`}><DownloadIcon className='customButton' /></a>\n                {(currentUserId !== '' ? (\n                    <div>\n                        {song.likedUsers.includes(currentUserId) ? (\n                            <>\n                                <FavoriteIcon\n                                    id='heartIcon'\n                                    className='customButton'\n                                    onClick={() => decrementLike(songId)} />\n                                {song.likes}\n                            </>\n\n                        ) : (\n                            <>\n                                <FavoriteBorderIcon\n                                    id='heartIcon'\n                                    className='customButton'\n                                    onClick={() => incrementLike(songId)} />\n                                {song.likes}\n\n                            </>\n                        )}\n                    </div>) : (\n                    <>\n                        <FavoriteIcon id='heartIcon' className='customButton' />\n                        {song.likes}\n                    </>\n\n                )\n                )}\n            </div>\n        </div>\n    )\n}\n","import \"../App.css\";\nimport React from 'react';\nimport { useState, useEffect } from \"react\";\nimport service from '../api/service';\nimport SongCard from \"./SongCard\";\nimport { Checkbox } from \"@mui/material\";\nimport Accordion from '@mui/material/Accordion';\nimport AccordionSummary from '@mui/material/AccordionSummary';\nimport AccordionDetails from '@mui/material/AccordionDetails';\nimport Typography from '@mui/material/Typography';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\n\nfunction SongsList(props) {\n\n  const [allSongs, setAllSongs] = useState([]);\n  const [sortedSongs, setSortedSongs] = useState([])\n  const { search, } = props;\n  const [searchFields, setSearchFields] = useState({ title: true, author: true, tags: false })\n  const [sortFields, setSort] = useState({ alphabetic: false, likes: false })\n\n  const getAllSongs = async () => {\n    const result = await service.findAllSongs();\n    setAllSongs(result);\n  }\n\n  useEffect(() => {\n    getAllSongs()\n  }, [])\n\n  let words = search.split(' ') || []\n\n  function dynamicSort(property) {\n    var sortOrder = 1;\n    if (property[0] === \"-\") {\n      sortOrder = -1;\n      property = property.substr(1);\n    }\n    return function (a, b) {\n      var result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0;\n      return result * sortOrder;\n    }\n  }\n\n  useEffect(() => {\n    function sort(array) {\n      const sortedArray = [...array]\n      let songs\n      if (!sortFields.alphabetic && !sortFields.likes) {\n        return setSortedSongs(array)\n      }\n      if (sortFields.alphabetic) {\n        songs = sortedArray.sort(dynamicSort('title'))\n        return setSortedSongs(songs)\n      } else if (sortFields.likes) {\n        songs = sortedArray.sort(dynamicSort('-likes'))\n        return setSortedSongs(songs)\n      } else {\n        songs = sortedArray.sort(function (a, b) {\n          return a.title - b.title || a.likes - b.likes;\n        });\n        return setSortedSongs(songs)\n      }\n\n    }\n    sort(allSongs)\n  }, [sortFields, allSongs])\n\n\n\n  function searchCheck(search, word) {\n    for (let i = 0; i <= word.length; i++) {\n      if (word.substring(i, i + search.length).toLowerCase() === search.toLowerCase()) {\n        return true\n      }\n    }\n    return false\n  }\n\n  const filteredSongs = sortedSongs.filter(function (song) {\n    const title = song.title.split(' ')\n    const author = song.author.split(' ')\n    const tags = [...song.tags]\n\n    for (let word of words) {\n      if (searchFields.title === true) {\n        for (let str of title) {\n          if (searchCheck(word, str)) {\n            return true;\n          }\n        }\n      }\n      if (searchFields.author === true) {\n        for (let str of author) {\n          if (searchCheck(word, str)) {\n            return true;\n          }\n        }\n      }\n      if (searchFields.tags === true) {\n        for (let str of tags) {\n          if (searchCheck(word, str)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n    return true\n  });\n\n\n\n\n  const searchCheckBoxes = (<div className='searchTickBoxesContainer'>\n    <label>\n      Title\n      <Checkbox\n        name=\"\"\n        type=\"checkbox\"\n        checked={searchFields.title}\n        onChange={e => setSearchFields({ ...searchFields, title: e.target.checked })} />\n    </label>\n    <br />\n    <label>\n      Author\n      <Checkbox\n        name=\"author\"\n        type=\"checkbox\"\n        checked={searchFields.author}\n        onChange={e => setSearchFields({ ...searchFields, author: e.target.checked })} />\n    </label>\n    <br />\n    <label>\n      Tags\n      <Checkbox\n        name=\"tags\"\n        type=\"checkbox\"\n        checked={searchFields.tags}\n        onChange={e => setSearchFields({ ...searchFields, tags: e.target.checked })} />\n    </label>\n    <br />\n  </div>)\n\n  const sortCheckBoxes = (<div className='sortTickBoxesContainer'>\n    <label>\n      A-Z\n      <Checkbox\n        name=\"A-Z\"\n        type=\"checkbox\"\n        checked={sortFields.alphabetic}\n        onChange={e => setSort({ ...sortFields, alphabetic: e.target.checked })} />\n    </label>\n    <br />\n    <label>\n      Most favourited\n      <Checkbox\n        name=\"likes\"\n        type=\"checkbox\"\n        checked={sortFields.likes}\n        onChange={e => setSort({ ...sortFields, likes: e.target.checked })} />\n    </label>\n\n  </div>)\n\n  return (<>\n\n    <div className='accordionContainer'>\n      <Accordion color='black'>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n        >\n          <Typography>Search by</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Typography component={'span'}>\n            {searchCheckBoxes}\n          </Typography>\n        </AccordionDetails>\n      </Accordion>\n\n\n\n\n      <Accordion color='black'>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n        >\n          <Typography>Sort by</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Typography component={'span'}>\n            {sortCheckBoxes}\n          </Typography>\n        </AccordionDetails>\n      </Accordion>\n    </div>\n\n\n\n\n    <div className='songsListContainer'>\n      {filteredSongs.length > 0 ? filteredSongs.map(song =>\n        <SongCard\n          className='songCard'\n          key={song._id}\n          user={props.user}\n          {...song} />) : <p> No songs match your search</p>}\n    </div>\n  </>\n  );\n}\n\nexport default SongsList;\n","import { Link } from \"react-router-dom\";\nimport { useHistory } from \"react-router\";\nimport service from '../api/service';\nimport { Input } from \"@mui/material\";\nimport SearchIcon from '@mui/icons-material/Search';\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport React from 'react'\n\n\nimport { Box } from \"@mui/system\";\n\nexport default function NavBar(props) {\n\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n\n  const history = useHistory()\n  const { search, setSearch } = props;\n\n  const handleSearch = e => {\n    e.preventDefault()\n    history.push('/');\n  }\n\n  const handleLogout = () => {\n    service.logout()\n      .then(() => {\n        history.push('/');\n        props.setUser(null)\n      })\n  }\n\n  const searchBar =\n    <form className='searchBar'>\n      <Input\n        type=\"search\"\n        name=\"search\"\n        value={search}\n        onChange={e => setSearch(e.target.value)}\n        placeholder='Type your search here'\n      />\n      <button onClick={handleSearch}> <SearchIcon /></button>\n\n    </form>\n\n  return (\n    <Box className='navBar' >\n\n\n      {props.user ?\n\n        (\n          <div className='navRight'>\n            <Tabs\n              value={value}\n              onChange={handleChange}\n              style={{ width: 700 }}\n            >\n              <Tab label='Archimidi' id='logo' component={Link} to='/' />\n              <Tab to=\"/\" label='Logout' onClick={() => handleLogout()} />\n              <Tab component={Link} to='/songs/add' label='Upload Song' />\n              <Tab component={Link} to='/mysongs' label='My Songs' />\n            </Tabs>\n          </div>\n        ) : (\n          <div className='navRight'>\n            <Tabs\n              value={value}\n              onChange={handleChange}\n            >\n              <Tab label='Archimidi' id='logo' component={Link} to='/' />\n              <Tab label='login' component={Link} to='/login' />\n              <Tab component={Link} label='Sign up' to='/signup' />\n\n            </Tabs>\n          </div>)}\n\n      {searchBar}\n\n    </Box>\n\n  )\n\n}","import React from 'react';\nimport { useState } from 'react';\nimport service from '../api/service';\nimport { useEffect } from 'react';\nimport { useHistory } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport SongCard from './SongCard';\nimport Button from '@mui/material/Button';\n\nexport default function SongDetails(props) {\n    const [song, setSong] = useState(null);\n    const [midiPlayer, setMidiPlayer] = useState({ body: null });\n    let history = useHistory();\n    let currentUserId = (props.user ? props.user._id : '');\n    const songId = props.match.params.id;\n\n    const deleteSong = (id) => {\n        try {\n            service.deleteSong(id)\n            history.push('/')\n        } catch (err) {\n            return console.log(err)\n        }\n    }\n\n\n    useEffect(() => {\n        const retrieveSong = async (id) => {\n            const response = await service.getSong(id);\n            setSong(response);\n        };\n        retrieveSong(songId);\n    }, [songId])\n\n    useEffect(() => {\n        const script = document.createElement('script');\n        script.src = \"https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.22.1/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.4.0\";\n        script.async = true;\n        document.body.appendChild(script);\n\n        return () => {\n            document.body.removeChild(script);\n        }\n    }, []);\n\n    useEffect(() => {\n        song && setMidiPlayer({\n            body:\n                <>\n                    <section id=\"player2\">\n                        <midi-player\n                            src={song.songUrl}\n                            visualizer=\"#player2 midi-visualizer\">\n                        </midi-player>\n                        <midi-visualizer\n                            type=\"piano-roll\"\n                            src={song.songUrl}>\n                        </midi-visualizer>\n                    </section>\n\n                </>\n        })\n    }, [song])\n\n    return (\n        <div className='detailsContainer'>\n            {(currentUserId === '' && (\n                <Link to='/login' style={{}}>\n                    <div>\n                        <u>Log in to add this MIDI song to your favourites</u>\n                    </div>\n                </Link>\n            ))}\n            {song && (\n                <div className='baseForm'>\n                    <SongCard\n                        id='songCardDetails'\n                        key={song._id}\n                        user={props.user}\n                        {...song}\n                    />\n                    <div >\n                        {(currentUserId === song.createdBy) &&\n                            <Button variant='contained' onClick={() => deleteSong(song._id)}>\n                                Delete \"{song.title}\"\n                            </Button>}\n\n                        {(currentUserId === song.createdBy) &&\n                            <Link to={`/songs/edit/${song._id}`}>\n                                <Button style={{ marginLeft: 30 }} variant='contained'>\n                                    Edit \"{song.title}\"\n                                </Button>\n                            </Link>\n                        }\n                    </div>\n                    {(midiPlayer.body !== null) ? <div>{midiPlayer.body}</div> : <p>There's nothing to play</p>}\n                </div>)}\n        </div>\n    )\n}","import React from 'react'\nimport { useState } from 'react';\nimport service from '../api/service';\nimport Button from '@mui/material/Button';\n\nimport TextField from '@mui/material/TextField';\n\n\nexport default function Signup(props) {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [message, setMessage] = useState('');\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        service.signup(username, password)\n            .then(response => {\n                if (response.message) {\n                    setUsername('');\n                    setPassword('');\n                    setMessage(response.message)\n\n                } else {\n                    props.setUser(response)\n                    props.history.push('/')\n                }\n            })\n            .catch(err => console.log(err))\n    }\n    return (\n        <div className='secondaryContainer'>\n            <h3>Sign up</h3>\n            <form onSubmit={handleSubmit} className='baseForm'>\n                <TextField\n                    type=\"text\"\n                    name=\"username\"\n                    value={username}\n                    onChange={e => setUsername(e.target.value)}\n                    className='Input'\n                    error={message ? true : false}\n                    label=\"Username\" variant=\"outlined\"\n\n                />\n                <TextField\n                    type=\"password\"\n                    name=\"password\"\n                    value={password}\n                    onChange={e => setPassword(e.target.value)}\n                    className='Input'\n                    error={message ? true : false}\n                    label=\"Password\" variant=\"outlined\"\n\n                />\n\n                <Button variant='contained' type=\"submit\">Create Account </Button>\n\n                {message && (\n                    <h3>{message}</h3>\n                )}\n                <p>Already a user? <a href='/login'>- <u>Log In</u></a></p>\n            </form>\n        </div>\n    )\n}\n","import React from 'react'\nimport { useState } from 'react'\nimport service from '../api/service';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport { Badge } from '@mui/material';\nexport default function Login(props) {\n\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [message, setMessage] = useState('');\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        service.login(username, password)\n            .then(response => {\n\n                if (response.message) {\n                    setMessage(response.message)\n                    setUsername('')\n                    setPassword('')\n                } else {\n                    props.setUser(response);\n                    props.history.push('/')\n                }\n            })\n            .catch(err => {\n                console.log(err)\n            })\n\n    };\n    return (\n        <div className='secondaryContainer'>\n            <h3>Log in</h3>\n            <form onSubmit={handleSubmit} className='baseForm'>\n\n                <TextField\n                    required\n                    type=\"text\"\n                    name=\"username\"\n                    value={username}\n                    onChange={e => setUsername(e.target.value)}\n                    className='Input'\n                    error={message ? true : false}\n                    label=\"Username\" variant=\"outlined\"\n                    style={{ color: 'grey' }}\n                />\n                <TextField\n                    required\n                    type=\"password\"\n                    name=\"password\"\n                    value={password}\n                    onChange={e => setPassword(e.target.value)}\n                    className='Input'\n                    label=\"Password\" variant=\"outlined\"\n                    error={message ? true : false}\n                />\n                <Button variant='contained' type=\"submit\">Log in</Button>\n                {message && (\n                    <h3>{message}</h3>\n                )}\n                <p>Don't have an account? <a href='/signup'>- <u>Sign Up</u></a></p>\n            </form>\n        </div>\n    )\n}\n","import React from 'react';\nimport service from '../api/service';\nimport SongCard from \"./SongCard\";\nimport { useState, useEffect } from \"react\";\n\nexport default function MySongs(props) {\n\n    const userId = props.user._id || ''\n\n    const [allSongs, setAllSongs] = useState([]);\n\n    const getMySongs = async () => {\n        const result = await service.findAllSongs();\n        setAllSongs(result);\n    };\n\n    useEffect(() => {\n        getMySongs()\n    }, [])\n\n    const filteredSongs = allSongs.filter(song => {\n        return song.createdBy === userId\n    });\n\n    return (\n        <div>\n            {userId !== undefined ?\n                (<>\n\n                    <div className='songsListContainer'>\n                        {filteredSongs.length >= 1 ? (\n                            <>\n                                {filteredSongs.map(song => <SongCard key={song._id} {...song} />)}\n                            </>\n                        ) : (\n                            <>\n                                <h1>You haven't uploaded any songs yet</h1>\n                            </>\n                        )}\n                    </div>\n                </>\n                ) : (null)}\n        </div>\n    )\n}","import React from 'react'\nimport { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport service from '../api/service'\nimport Button from '@mui/material/Button';\n\nimport TextField from '@mui/material/TextField';\n\nexport default function EditSong(props) {\n\n    const [title, setTitle] = useState('')\n    const [author, setAuthor] = useState('')\n    const songId = props.match.params.id;\n\n    useEffect(() => {\n        const retrieveSong = async (id) => {\n            const response = await service.getSong(id);\n            setTitle(response.title)\n            setAuthor(response.author)\n        }\n        retrieveSong(songId)\n    }, [songId])\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        const requestBody = { title, author };\n        axios.put(`/api/${songId}`, requestBody)\n            .then(() => {\n                props.history.push(`/songs/${songId}`)\n            })\n            .catch(err => console.log(err))\n    }\n\n    return (\n        <div className='secondaryContainer'>\n            <h3>Edit song</h3>\n            <form onSubmit={handleSubmit} className='baseForm'>\n\n                <TextField\n                    type=\"text\"\n                    name=\"title\"\n                    value={title}\n                    onChange={e => setTitle(e.target.value)}\n                    className='Input'\n                    label=\"Title\" variant=\"outlined\"\n\n                />\n\n                <TextField\n                    type=\"text\"\n                    name=\"author\"\n                    value={author}\n                    onChange={e => setAuthor(e.target.value)}\n                    className='Input'\n                    label=\"Author\" variant=\"outlined\"\n                />\n                <Button variant='contained' type=\"submit\">Update this project</Button>\n            </form>\n\n        </div>\n    )\n}\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport AddSong from \"./components/AddSong\";\nimport SongsList from \"./components/SongsList\";\nimport NavBar from \"./components/NavBar\";\nimport * as PATHS from \"./utils/paths\";\nimport SongDetails from \"./components/SongDetails\";\nimport Signup from \"./components/Signup\";\nimport { useState } from 'react'\nimport Login from \"./components/Login\";\nimport MySongs from \"./components/MySongs\";\nimport EditSong from \"./components/EditSong\";\nimport { Link } from \"react-router-dom\";\n\n\n\n\nfunction App(props) {\n  const [search, setSearch] = useState(props.search);\n  const [user, setUser] = useState(props.user)\n  const addUser = user => {\n    setUser(user);\n  }\n\n\n\n  function NotFound() {\n\n    return (<><h1>404 - Not Found</h1>  <Link to='/'>Return home</Link></>)\n  }\n\n  return (\n    <div className=\"App\">\n\n      <NavBar\n        user={user}\n        setUser={setUser}\n        search={search}\n        setSearch={setSearch}\n        currentPage={props}\n      />\n      <div className='mainContainer'>\n        <Switch>\n          <Route\n            exact path={PATHS.HOMEPAGE}\n            render={props =>\n              <SongsList\n                search={search}\n                setSearch={setSearch}\n                user={user}\n              />\n            }\n          />\n          <Route exact path=\"/songs/add\"\n            render={user ? props =>\n              <AddSong\n                user={user}\n                setUser={setUser}\n              /> : props =>\n              <Login\n                setUser={addUser}\n                {...props}\n              />\n            }\n          />\n          <Route\n            exact path=\"/songs/:id\"\n            render={user ? props =>\n              <SongDetails\n                user={user}\n                {...props}\n              /> : props =>\n              <SongDetails\n                user={null}\n                {...props}\n              />\n            }\n          />\n\n          <Route exact path=\"/signup\"\n            render={props => <Signup setUser={addUser}{...props} />} />\n          <Route exact path=\"/login\"\n            render={props => <Login setUser={addUser}{...props} />} />\n          <Route exact path=\"/mysongs\"\n            render={props => <MySongs user={user} setUser={setUser} />} />\n          <Route exact path=\"/songs/edit/:id\" component={EditSong} />\n          <Route component={NotFound} />2\n        </Switch>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","export const HOMEPAGE = \"/\";\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport axios from 'axios'\n\n\n\n\naxios.get('/api/auth/loggedin')\n  .then(response => {\n    const user = response.data;\n    ReactDOM.render(\n      <Router>\n        <App user={user} search={''} />\n      </Router>,\n      document.getElementById('root')\n    );\n  })\n"],"sourceRoot":""}